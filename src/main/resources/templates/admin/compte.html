<!DOCTYPE html  >
<html xmlns:th="www.thymeleaf.org" 
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
layout:decorator="layout.html" lang="fr">

  <head>
     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
     <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.18/datatables.min.css"/>
     <meta charset="utf-8">
  </head>
  <body>
  
      <div layout:fragment="content" class="row justify-content-center ">
          <div th:if="${action=='creation'}" class="col-sm-6 mt-3 mx-2">
            <div class="card">
              <div class="card-header">
                <h6 class="text-center text-uppercase">Créer un compte d'administrateur délégué</h6>
              </div>
	          <div class="card-body">
	            <div th:if="${error!=null}" class="row justify-content-center">
	               <div class="col-sm-12">
	                  <p class="text-danger text-center" th:text="${error}"></p>
	               </div>
	            </div>
	            <form class="col-sm-12" th:action="@{'/enregistrer_compte'}" th:object="${representant}" method="post">
	                <div class="row mb-3">
	                  <div class="col-sm-4">
	                   <label>Nom</label>
	                  </div>
	                  <div class="col-sm-8">
	                    <input class="form-control" th:field="*{nom}" placeholder="Entrez votre nom " type="text">
	                  </div>
	                </div>
	                
	                <div class="row mb-3">
	                  <div class="col-sm-4">
	                   <label>Prénom</label>
	                  </div>
	                  <div class="col-sm-8">
	                    <input class="form-control" th:field="*{prenom}" placeholder="Entrez votre prénom" type="text">
	                  </div>
	                </div>
	                
	                <div class="row mb-3">
	                  <div class="col-sm-4">
	                   <label>Ville</label>
	                  </div>
	                  <div class="col-sm-8">
	                    <select class="form-control" name="idVille">
	                       <option selected="selected" disabled="disabled"> Selectionez la ville ou vous un administrateur</option>
	                       <option th:each="v:${villes}" th:value="${v.id}" th:label="${v.name}">Ouaga</option> 
	                       
	                    </select>
	                  </div>
	                </div>
	                
	                <div class="row mb-3">
	                  <div class="col-sm-4">
	                   <label>Email</label>
	                  </div>
	                  <div class="col-sm-8">
	                    <input class="form-control" th:field="*{email}"  type="email" placeholder="Entrez votre adresse mail">
	                  </div>
	                </div>
	                
	                <div class="row mb-3">
	                  <div class="col-sm-4">
	                   <label>Mot de passe</label>
	                  </div>
	                  <div class="col-sm-8">
	                    <input class="form-control" th:field="*{password}" placeholder="Entrez votre mot de passe" type="password">
	                  </div>
	               </div>
	               
	               <div class="row mb-3">
	                  <div class="col-sm-4">
	                   <label>Confirmation mot de passe</label>
	                  </div>
	                  <div class="col-sm-8">
	                    <input class="form-control" th:field="*{confirm}" placeholder="Veuillez saisir à nouveau votre mot de passe" type="password">
	                  </div>
	               </div>
	               
	               <div class="row mb-3">
	                  <div class="col-sm-6">
	                   <button type="submit" class="btn btn-primary">S'identifier</button>
	                  </div>
	                  <div class="col-sm-6">
	                    
	                  </div>
	               </div>
	              </form>
	           </div>
	          </div>
          </div>
          <div th:if="${action=='confirmation'}" class="col-sm-5 mt-3">
              <div class="card">
                 <div class="card-header">
                    <h6 class="text-center text-uppercase">Créer un compte d'administrateur délégué</h6>
                 </div>
                 <div class="card-body">
                   <div class="row m-2">
                     <p class="text-success" th:text="${message}">Votre comptre été créé avec succès</p>
                     <p>Maintenant vote compte est enregistrer un message d'activation vous sera envoyé par l'administrateur 
                     afin de vous donné le droit d'accès au site . Pour s'assurer de la conformité des donnés .</p>
                     
                   </div>
                 </div>
              </div>
          </div>
      </div>
      <th:block layout:fragment="scripts">
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.18/datatables.js"></script>
        <script type="text/javascript" th:src="@{'/js/admin.ville.js'}"></script>  
        <script type="text/javascript" th:src="@{'/bootstrap/bootbox.min.js'}"></script>          
        </th:block>
  </body>

</html>