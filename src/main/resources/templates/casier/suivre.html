<!DOCTYPE html  >
<html xmlns:th="www.thymeleaf.org" 
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
layout:decorator="casier/casier.html" lang="fr">

  <head>

   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
   <meta charset="utf-8">
  </head>

  <body id="page-top">
   
        <div layout:fragment="casier_content" class="col-12">
        
             <div th:if="${ACTION=='connection'}" class="row  mb-3 justify-content-center">
                 <div class="col-sm-5">
                    <div class="card">
                      <div class="card-header">
                          <h6 class="text-center text-uppercase">Suivie de demande de casier judicaire</h6>
                      </div>
                      <div class="card-body">
                        <div class="row mb-2 mx-2">
                           <p>Pour pouvoir suivre l'évolution de votre dossier il faut vous connecter avec 
                        votre adresse mail et votre code de la demande.
                           </p>
                           <p th:if="${error!=null}" class="text-danger" th:text="${error}"></p>
                        </div>
                        <form action="verifier" method="post">
                        <div class="row mb-3">
			                 <div class="col-sm-4">
			                   <label>Email <span style="color:red; font-size: 24px;">*</span></label>
			                 </div>
			                 <div class="col-sm-8">
			                   <input class="form-control" type="email" name="email" required="required" placeholder="Entrez votre adresse mail"/>
			                 </div>
	                    </div>
	                    <div class="row mb-3">
			                 <div class="col-sm-4">
			                   <label>Mot de passe <span style="color:red; font-size: 24px;">*</span></label>
			                 </div>
			                 <div class="col-sm-8">
			                   <div class="input-group">
				                   <input class="form-control" id="password" type="password" required="required" name="password" placeholder="Entrez votre mot de passe"/>
				                   <div class="input-group-append" >
	                                 <span class="input-group-text " onclick="show()" ><i id="btn" class="fas fa-eye-slash"></i></span>
	                                </div>
                                 </div>
			                 </div>
	                    </div>
	                 
	                    <div class="row mb-3">
			                 <div class="col-sm-4">
			                   <button class="btn btn-primary" type="submit">Connecter</button>
			                 </div>
			                 <div class="col-sm-8">
			                   
			                 </div>
	                    </div>
	                    </form>
                      </div>
                    </div>
                 </div>
             </div>
             <div th:if="${ACTION=='connected' && demande!=null}" class="row mb-3 justify-content-center">
               <div class="col-sm-5 ">
                  <div class="card">
                     <div class="card-header">
                       <h5 class="text-center">Ma demande</h5>
                     </div>
                     <div class="card-body">
                        <div class="col-12">
                           <div class="row mb-2 justify-content-center">
                              <div class="col-sm-4">
                               <label> Numéro de la demande </label>
                              </div>
                              <div class="col-sm-8">
                                <input class="form-control" th:value="${demande.id}" readonly="readonly">
                              </div>
                           </div>
                           <div class="row mb-2 justify-content-center">
                              <div class="col-sm-4">
                               <label> Date de demande </label>
                              </div>
                              <div class="col-sm-8">
                                <input class="form-control" th:value="${demande.date}" readonly="readonly" >
                              </div>
                           </div>
                           <div class="row mb-2 justify-content-center">
                              <div class="col-sm-4">
                               <label> Etat </label>
                              </div>
                              <div class="col-sm-8">
                                <textarea class="form-control" th:text="${demande.traite==true?'Votre demande a été traité':' Votre demande est en cours de traitement !'}" readonly="readonly" rows="2"></textarea>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
             </div>
        </div>
        <th:block layout:fragment="scripts">
          <script type="text/javascript">
            function show(){
            	if($('#btn').attr('class')=='fas fa-eye-slash'){
            		$('#password').attr('type','text');
            		$('#btn').attr('class','fas fa-eye');
            	}else{
            		$('#password').attr('type','password');
            		$('#btn').attr('class','fas fa-eye-slash');
            	}
            }
          </script>
        </th:block>
   
  </body>

</html>